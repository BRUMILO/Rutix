{% extends 'base.html' %}

{% block title %}Home - Rutix{% endblock %}

{% block head_extra %}

  <link href="/static/styles/home.css" rel="stylesheet" />

{% endblock %}

{% block content %}
<!-- Content Header (Page header) -->
<div class="content-header">
  <div class="container-fluid">
    <div class="row mb-2">
      <div class="col-sm-6">
        <h1 class="m-0">Home</h1>
      </div>

    </div>
  </div>
</div>

<!-- Main content -->
<section class="content">
  <div class="container-fluid">
    <!-- Info boxes -->
    <div class="row">
      <div class="col-12 col-sm-6 col-md-3">
        <a href="{{ url_for('visualizar_provincias.visualizar_provincias') }}" class="info-box-link">
          <div class="info-box">
            <span class="info-box-icon bg-info elevation-1"><i class="fas fa-map-marked-alt"></i></span>
            <div class="info-box-content">
              <span class="info-box-text">Provincias</span>
              <span class="info-box-number">{{ total_provincias }}</span>
            </div>
          </div>
        </a>
      </div>
      
      <div class="col-12 col-sm-6 col-md-3">
        <a href="{{ url_for('visualizar_ciudades.visualizar_ciudades') }}" class="info-box-link">
          <div class="info-box mb-3">
            <span class="info-box-icon bg-danger elevation-1"><i class="fas fa-city"></i></span>
            <div class="info-box-content">
              <span class="info-box-text">Ciudades</span>
              <span class="info-box-number">{{ total_ciudades }}</span>
            </div>
          </div>
        </a>
      </div>

      <div class="clearfix hidden-md-up"></div>

      <div class="col-12 col-sm-6 col-md-3">
        <a href="{{ url_for('visualizar_conexiones.visualizar_conexiones') }}" class="info-box-link">
          <div class="info-box mb-3">
            <span class="info-box-icon bg-success elevation-1"><i class="fas fa-route"></i></span>
            <div class="info-box-content">
              <span class="info-box-text">Rutas</span>
              <span class="info-box-number">{{ total_rutas }}</span>
            </div>
          </div>
        </a>
      </div>

      <div class="col-12 col-sm-6 col-md-3">
        <div class="info-box mb-3">
          <span class="info-box-icon bg-warning elevation-1"><i class="fas fa-user-shield"></i></span>
          <div class="info-box-content">
            <span class="info-box-text">Rol</span>
            <span class="info-box-number">{% if usuario.admin %}Admin{% else %}Usuario{% endif %}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- User Info Card -->
    <div class="row">
      <div class="col-md-6">
        <div class="card card-primary">
          <div class="card-header">
            <h3 class="card-title">Información del Usuario</h3>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-sm-4 text-center">
                <div class="user-image">
                  <img src="/static/img/Emilio_logo.jpg" class="img-circle elevation-2" alt="User Avatar" style="width: 80px; height: 80px;">
                </div>
              </div>
              <div class="col-sm-8">
                <table class="table table-borderless">
                  <tr>
                    <td><strong>Usuario:</strong></td>
                    <td>{{ usuario.username }}</td>
                  </tr>
                  <tr>
                    <td><strong>Email:</strong></td>
                    <td>{{ usuario.email }}</td>
                  </tr>
                  <tr>
                    <td><strong>Tipo:</strong></td>
                    <td>
                      {% if usuario.admin %}
                        <span class="badge badge-success">Administrador</span>
                      {% else %}
                        <span class="badge badge-primary">Usuario</span>
                      {% endif %}
                    </td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Quick Actions Card -->
      <div class="col-md-6">
        <div class="card card-info">
          <div class="card-header">
            <h3 class="card-title">Acciones Rápidas</h3>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-12 mb-3">
                <a href="{{ url_for('camino_formulario.camino_formulario') }}" class="btn btn-primary btn-block">
                  <i class="fas fa-route mr-2"></i>Calcular Rutas
                </a>
              </div>
              <div class="col-12 mb-3">
                <a href="{{ url_for('grafo.grafo') }}" class="btn btn-info btn-block">
                  <i class="fas fa-project-diagram mr-2"></i>Ver Grafo
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Additional Statistics -->
    <div class="row">
      <div class="col-12">
        <div class="card">
          <div class="card-header">
            <h3 class="card-title">Resumen del Sistema</h3>
          </div>
          <div class="card-body">
            <p class="lead">Bienvenido al sistema de gestión de rutas, <strong>{{ usuario.username }}</strong>!</p>
            <p>Actualmente el sistema cuenta con:</p>
            <ul class="list-unstyled">
              <li><i class="fas fa-map-marked-alt text-info mr-2"></i>{{ total_provincias }} provincias registradas</li>
              <li><i class="fas fa-city text-danger mr-2"></i>{{ total_ciudades }} ciudades disponibles</li>
              <li><i class="fas fa-route text-success mr-2"></i>{{ total_rutas }} rutas configuradas</li>
            </ul>
            <p class="text-muted">Utiliza el menú lateral para navegar entre las diferentes opciones del sistema.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}
